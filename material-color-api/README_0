# INSTALAR NODE.JS PARA USAR MATERIAL-COLOR-API

#1.1. Prepara tu proyecto Node.js
##Crea una carpeta y abre una terminal ahí.

mkdir material-color-api
cd material-color-api
npm init -y


#1.2. Instala dependencias

npm install express @material/material-color-utilities cors

##express: para crear el servidor web REST.
##@material/material-color-utilities: librería oficial de Google para generar paletas.
##cors: para permitir que clientes externos consuman la API.

#1.3. Crea el archivo index.js
--------------------------
const express = require('express');
const cors = require('cors');
const { argbFromHex, themeFromSourceColor } = require('@material/material-color-utilities');

const app = express();
app.use(cors());

function argbToHex(argb) {
return '#' + (argb & 0xFFFFFF).toString(16).padStart(6, '0');
}

app.get('/api/material', (req, res) => {
const hex = req.query.hex;
if (!hex || !/^#?[0-9A-Fa-f]{6}$/.test(hex)) {
return res.status(400).json({ error: 'Invalid or missing hex parameter' });
}

const argb = argbFromHex(hex.startsWith('#') ? hex : '#' + hex);
const scheme = themeFromSourceColor(argb);

// Extraemos los tonos primarios y los mapeamos a nombres
const primary = {
100: argbToHex(scheme.primary.get(100)),
200: argbToHex(scheme.primary.get(200)),
300: argbToHex(scheme.primary.get(300)),
400: argbToHex(scheme.primary.get(400)),
500: argbToHex(scheme.primary.get(500)),
600: argbToHex(scheme.primary.get(600)),
700: argbToHex(scheme.primary.get(700)),
800: argbToHex(scheme.primary.get(800)),
900: argbToHex(scheme.primary.get(900)),
};

res.json({ primary });
});

const PORT = process.env.PORT || 3000;
app.listen(PORT, () => {
console.log(`Material color API listening on port ${PORT}`);
});

-------------------------------

#1.4. Ejecuta el servidor

node index.js

    ##Si todo va bien, verás:

    #Material color API listening on port 3000



#Paso 2: Consumir la API desde PHP
Ya con el servidor corriendo en, digamos, http://localhost:3000, puedes hacer peticiones desde PHP:

#revisar archivo PHP index_api.php, adjunto a este archivo